{% extends 'base.html.twig' %}

{% block title %}Le Labo{% endblock %}

{% block body %}

    {% block header %}
        {% include "./header/_header.html.twig" %}
    {% endblock %}

    <main>
        <section>
            <h2>Les cat√©gories</h2>
            <div class="categories__container">
                {% for category in categories %}
                    <a href="{{ path("labo_by_category", {category: category.name}) }}"
                       style="background-color: {{ category.color }}">{{ category.name }}</a>
                {% endfor %}
                <a href="{{ path("labo_index") }}">Tous</a>
            </div>
        </section>
        <section>
            <h2>Les levels</h2>
            <div class="levels__container">
                {% for level in levels %}
                    <a href="{{ path("labo_by_level", {level: level.name}) }}"
                       style="background-color: {{ level.color }}">{{ level.name }}</a>
                {% endfor %}
                <a href="{{ path("labo_index") }}">Tous</a>
            </div>
        </section>

        <section class="courses__section">
            <h2>Les derniers cours</h2>
            <div class="courses__container">
                {% for course in courses %}
                    <a href="">
                        <div class="courses__block" style="--clr: {{ course.category.color }}">
                            <h3 style="color: {{ course.category.color }}">
                                {{ course.category.name }}
                            </h3>
                            <p><em style="color: {{ course.level.color }}"> Niveau : {{ course.level.name }}</em></p>
                            <h4>{{ course.title }}</h4>
                            <p>{{ course.content| striptags | slice(0, 70) }} ...</p>
                            <p><em>{{ course.createdAt|date("d-m-Y", "Europe/Paris") }}</em></p>
                        </div>
                    </a>
                {% endfor %}
            </div>
            <div class="anim__absolute__right">
                <div class="bowl__design">
                    <div class="shadow"></div>
                    <div class="bowl">
                        <div class="liquid"></div>
                    </div>
                </div>
            </div>
            <div class="anim__absolute__left">
                <div class="bowl__design">
                    <div class="shadow"></div>
                    <div class="bowl">
                        <div class="liquid"></div>
                    </div>
                </div>
            </div>
        </section>
    </main>

{% endblock %}
